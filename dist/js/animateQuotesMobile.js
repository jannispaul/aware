import{g as r}from"./onAllPages.js";import{c as T}from"./createSlider.js";function X(O){const u=document.querySelector("[data-element='quote-container']"),y=document.querySelector("[data-element='quote-list']");let o=Array.from(document.querySelectorAll("[data-element='quote']"));const m="16.5rem",d="12rem",p="23.75rem",h="33rem",s=o.length,f=3;let a=!1;function c(){[...o].reverse().forEach(e=>{let t=e.cloneNode(!0);y.prepend(t),r.set(t,{opacity:0,autoAlpha:0})})}c(),c(),o=Array.from(document.querySelectorAll("[data-element='quote']"));function A(e){const t=e.getBoundingClientRect(),n=e.parentNode.getBoundingClientRect(),l=new DOMMatrix(window.getComputedStyle(e).transform).a,g=(e.offsetWidth-t.width)/2;return n.right-t.right-l-g}function L(e){a=!0,setTimeout(()=>{a=!1},1e3),o.forEach(n=>n.ariaCurrent=!1),e.ariaCurrent=!0,r.to(e,{scale:1.05,opacity:1,duration:.3,ease:"power2.inOut"});let t=Array.from(e.parentElement.children).indexOf(e);w(t,1),v(t,1),q(t,1),E(t),t<o.length-s&&r.delayedCall(1.75,()=>{t=t+o.length/f,b(t)})}function b(e){o.forEach((t,n)=>{r.set(t,{clearProps:"transform,visibility,scale",width:n===e?p:d,height:n===e?h:m,opacity:n<o.length-s?0:1})}),w(e,0),v(e,0),q(e,0)}function v(e,t){let n=o.slice(e+1-s,e),i=t===0?0:.5;r.delayedCall(i,()=>{n.forEach(l=>{r.to(l,{opacity:1,duration:t,ease:"power1.inOut",autoAlpha:1})})})}function w(e,t){o.slice(e+1).forEach((i,l)=>{r.timeline().to(i,{translateX:"+="+200*(1+l/5),duration:t,ease:"power1.inOut"}).to(i,{opacity:0,ease:!1,duration:t},0).to(i,{autoAlpha:0})})}function q(e,t){const n=o.slice(0,e+1);let i=A(o[e]),l=t===0?0:.5;r.delayedCall(l,()=>{n.forEach((g,C)=>{r.timeline().to(g,{translateX:"+="+i,duration:t,ease:"power1.inOut"}).to(g,{width:C===n.length-1?p:d,height:C===n.length-1?h:m,duration:t,scale:1,ease:"power1.inOut"},0)})})}function E(e){isNaN(e)||(r.to(u,{opacity:0,duration:.5,ease:!1}),r.delayedCall(1,()=>{const t=o[e].querySelector("[data-element='quote-body']");u.replaceChildren(...t.cloneNode(!0).children),r.timeline().fromTo(u,{xPercent:-80,translateX:0,opacity:0},{xPercent:0,duration:1,ease:"power1.out"}).to(u,{opacity:1,duration:1,ease:"power1.in"},0)}))}function S(){q(o.length-1,0),E(o.length-1)}S();function M(e){e&&e.ariaCurrent!=="true"&&r.timeline().to(e,{scale:.9,opacity:.8,ease:"power2.inOut",duration:.5})}function R(e){r.timeline().to(e,{scale:1,opacity:1,ease:"power2.inOut",duration:.5})}document.addEventListener("click",e=>{!e.target.closest("[data-element='quote']")||a||L(e.target.closest("[data-element='quote']"))}),o.forEach(e=>{e.addEventListener("mouseenter",t=>{M(t.target.closest("[data-element='quote']"))})}),o.forEach(e=>{e.addEventListener("mouseleave",t=>{R(t.target.closest("[data-element='quote']"))})})}function B(O){T({container:"[data-element='quote-list']",items:2,gutter:12,center:!0,autoplay:!1,loop:!0,controls:!1,nav:!1});function y(){var f,a,c;let s=document.querySelectorAll(".tns-slide-active");(f=s[0])==null||f.classList.remove("center"),(a=s[1])==null||a.classList.add("center"),(c=s[2])==null||c.classList.remove("center")}y();const o=document.querySelectorAll("[data-element='quote']"),m={rootMargin:"100% 0% 100% 0%",threshold:[0,.9]};let d={};const p=(s,f)=>{s.forEach(a=>{a.isIntersecting?a.intersectionRatio>=.9?(a.target.classList.add("center"),clearTimeout(d[a.target.id])):d[a.target.id]=setTimeout(()=>{a.target.classList.remove("center")},150):a.target.classList.remove("center")})},h=new IntersectionObserver(p,m);o.forEach(s=>{h.observe(s)})}export{B as a,X as b};
