import{m as H}from"./moveImgInText.js";import{g as o,S as A,o as N,a as R}from"./onAllPages.js";import{a as z}from"./animateCardToFull.js";import{a as W}from"./animateImageScale.js";import{c as X}from"./createSlider.js";function B(){let i=document.querySelector("[animate='left-half']"),n=document.querySelector("[animate='right-half']"),r=i==null?void 0:i.querySelector("lottie-player"),e=n==null?void 0:n.querySelector("video");if(!i||!n)return;let c=o.timeline({paused:!0}).to(n.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(i,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0),s=o.timeline({paused:!0}).to(i.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(n,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0);i.addEventListener("mouseenter",()=>{c.play(),e==null||e.pause()}),i.addEventListener("mouseleave",()=>{c.reverse(),e==null||e.play()}),n.addEventListener("mouseenter",()=>{s.play(),r&&(r==null||r.pause())}),n.addEventListener("mouseleave",()=>{s.reverse(),r&&(r==null||r.play())})}function D(i){const n=document.querySelector("[data-element='quote-container']"),r=document.querySelector("[data-element='quote-list']");let e=Array.from(document.querySelectorAll("[data-element='quote']"));const c="16.5rem",s="12rem",u="23.75rem",d="33rem",m=e.length,h=3;let g=!1;function p(){[...e].reverse().forEach(t=>{let a=t.cloneNode(!0);r.prepend(a),o.set(a,{opacity:0,autoAlpha:0})})}p(),p(),e=Array.from(document.querySelectorAll("[data-element='quote']"));function w(t){const a=t.getBoundingClientRect(),l=t.parentNode.getBoundingClientRect(),f=new DOMMatrix(window.getComputedStyle(t).transform).a,q=(t.offsetWidth-a.width)/2;return l.right-a.right-f-q}function S(t){g=!0,setTimeout(()=>{g=!1},1e3),e.forEach(l=>l.ariaCurrent=!1),t.ariaCurrent=!0,o.to(t,{scale:1.05,opacity:1,duration:.3,ease:"power2.inOut"});let a=Array.from(t.parentElement.children).indexOf(t);O(a,1),b(a,1),C(a,1),L(a),a<e.length-m&&o.delayedCall(1.75,()=>{a=a+e.length/h,x(a)})}function x(t){e.forEach((a,l)=>{o.set(a,{clearProps:"transform,visibility,scale",width:l===t?u:s,height:l===t?d:c,opacity:l<e.length-m?0:1})}),O(t,0),b(t,0),C(t,0)}function b(t,a){let l=e.slice(t+1-m,t),y=a===0?0:.5;o.delayedCall(y,()=>{l.forEach(f=>{o.to(f,{opacity:1,duration:a,ease:"power1.inOut",autoAlpha:1})})})}function O(t,a){e.slice(t+1).forEach((y,f)=>{o.timeline().to(y,{translateX:"+="+200*(1+f/5),duration:a,ease:"power1.inOut"}).to(y,{opacity:0,ease:!1,duration:a},0).to(y,{autoAlpha:0})})}function C(t,a){const l=e.slice(0,t+1);let y=w(e[t]),f=a===0?0:.5;o.delayedCall(f,()=>{l.forEach((q,v)=>{o.timeline().to(q,{translateX:"+="+y,duration:a,ease:"power1.inOut"}).to(q,{width:v===l.length-1?u:s,height:v===l.length-1?d:c,duration:a,scale:1,ease:"power1.inOut"},0)})})}function L(t){o.to(n,{opacity:0,duration:.5,ease:!1}),o.delayedCall(1,()=>{const a=e[t].querySelector("[data-element='quote-body']");n.replaceChildren(...a.cloneNode(!0).children),o.timeline().fromTo(n,{xPercent:-80,translateX:0,opacity:0},{xPercent:0,duration:1,ease:"power1.out"}).to(n,{opacity:1,duration:1,ease:"power1.in"},0)})}function M(){C(e.length-1,0)}M();function T(t){t.ariaCurrent!=="true"&&o.timeline().to(t,{scale:.9,opacity:.8,ease:"power2.inOut",duration:.5})}function P(t){o.timeline().to(t,{scale:1,opacity:1,ease:"power2.inOut",duration:.5})}document.addEventListener("click",t=>{!t.target.closest("[data-element='quote']")||g||S(t.target.closest("[data-element='quote']"))}),e.forEach(t=>{t.addEventListener("mouseenter",a=>{T(a.target.closest("[data-element='quote']"))})}),e.forEach(t=>{t.addEventListener("mouseleave",a=>{P(a.target.closest("[data-element='quote']"))})})}function I(){o.registerPlugin(A);const i=document.querySelector("[animate='how-section']"),n=document.querySelector("[animate='container']"),r=i.querySelector("[animate='step-wrapper']"),e=Array.from(r==null?void 0:r.children),c=i.querySelector("[animate='image-wrapper']"),s=Array.from(c==null?void 0:c.children),u=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--900"),d=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--300"),m=0;function h(){var S;const p=o.getProperty((S=n==null?void 0:n.parentNode)==null?void 0:S.parentNode,"padding-top");let w=window.innerHeight-m-p*2;o.set(n,{minHeight:w})}o.timeline({paused:!0,scrollTrigger:{trigger:i,start:"top "+m,end:"bottom bottom",scrub:1}}).set(e.slice(1),{flex:"0 1 0%"}).set("[animate='step-1']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},0).to(s[0],{opacity:1},"<").to("[animate='step-1'] [animate='number']",{color:u,duration:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-1'] [animate='number']",{color:d,duration:1},"<").to("[animate='step-1']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[0],{opacity:0,duration:1},"<").to("[animate='step-2']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[1],{opacity:1},"<").to("[animate='step-2'] [animate='number']",{color:u,duration:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-2'] [animate='number']",{color:d,duration:1},"<").to("[animate='step-2']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[1],{opacity:0,duration:1},"<").to("[animate='step-3']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[2],{opacity:1},"<").to("[animate='step-3'] [animate='number']",{color:u,duration:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-3'] [animate='number']",{color:d,duration:1},"<").to("[animate='step-3']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[2],{opacity:0,duration:1},"<").to("[animate='step-4']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[3],{opacity:1},"<").to("[animate='step-4'] [animate='number']",{color:u,duration:1},"<").to("[animate='step-4'] h3, [animate='step-4'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-4']",{opacity:1},"<2");function g(){o.set(s.slice(1),{opacity:0}),e.slice(1).forEach((p,w)=>{o.set(p,{flex:"0 1 0%"}),o.set(p.querySelector("[animate='heading']"),{display:"none",opacity:0}),o.set(p.querySelector("[animate='copy']"),{display:"none",opacity:0}),o.set(p.querySelector("[animate='number']"),{color:d})}),o.set(e[0],{flex:"1 0 10%"}),h()}g(),window.onresize=h}function Q(i){o.registerPlugin(A);const n=document.querySelector("[animate='horizontal-scroll']");function r(e){e&&e.scroll({left:e.scrollWidth-e.clientWidth,behavior:"smooth"})}o.from(n,{ease:"power1.inOut",duration:1,scrollTrigger:{start:"top center",end:"bottom 80%",trigger:n,scrub:1,onUpdate:e=>{e.progress>.5&&r(n)},onLeave:function(e){e.scroll(e.start),e.disable(),e.animation.progress(1)}}})}function V(i){let r=X({container:"[data-element='quote-list']",items:2,gutter:12,center:!0,autoplay:!1,loop:!0,controls:!1,nav:!1});function e(c){var u,d,m;let s=document.querySelectorAll(".tns-slide-active");(u=s[0])==null||u.classList.remove("center"),(d=s[1])==null||d.classList.add("center"),(m=s[2])==null||m.classList.remove("center")}e(),r.events.on("indexChanged",()=>{e()})}function E(){N(),H(),W(),z();let i=R();i&&(Q(),V()),i||(B(),D(),I())}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",E):E();
