import{m as N}from"./moveImgInText.js";import{g as o,S as P,o as R,a as H}from"./onAllPages.js";import{a as I}from"./animateCardToFull.js";import{a as X}from"./animateImageScale.js";import{c as B}from"./createSlider.js";function D(){let n=document.querySelector("[animate='left-half']"),r=document.querySelector("[animate='right-half']"),l=n==null?void 0:n.querySelector("lottie-player"),a=r==null?void 0:r.querySelector("video");if(!n||!r)return;let d=o.timeline({paused:!0}).to(r.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(n,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0),i=o.timeline({paused:!0}).to(n.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(r,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0);n.addEventListener("mouseenter",()=>{d.play(),a==null||a.pause()}),n.addEventListener("mouseleave",()=>{d.reverse(),a==null||a.play()}),r.addEventListener("mouseenter",()=>{i.play(),l&&(l==null||l.pause())}),r.addEventListener("mouseleave",()=>{i.reverse(),l&&(l==null||l.play())})}function Q(n){const r=document.querySelector("[data-element='quote-container']"),l=document.querySelector("[data-element='quote-list']");let a=Array.from(document.querySelectorAll("[data-element='quote']"));const d="16.5rem",i="12rem",p="23.75rem",y="33rem",c=a.length,f=3;let s=!1;function h(){[...a].reverse().forEach(e=>{let t=e.cloneNode(!0);l.prepend(t),o.set(t,{opacity:0,autoAlpha:0})})}h(),h(),a=Array.from(document.querySelectorAll("[data-element='quote']"));function m(e){const t=e.getBoundingClientRect(),u=e.parentNode.getBoundingClientRect(),w=new DOMMatrix(window.getComputedStyle(e).transform).a,v=(e.offsetWidth-t.width)/2;return u.right-t.right-w-v}function q(e){s=!0,setTimeout(()=>{s=!1},1e3),a.forEach(u=>u.ariaCurrent=!1),e.ariaCurrent=!0,o.to(e,{scale:1.05,opacity:1,duration:.3,ease:"power2.inOut"});let t=Array.from(e.parentElement.children).indexOf(e);O(t,1),E(t,1),b(t,1),A(t),t<a.length-c&&o.delayedCall(1.75,()=>{t=t+a.length/f,S(t)})}function S(e){a.forEach((t,u)=>{o.set(t,{clearProps:"transform,visibility,scale",width:u===e?p:i,height:u===e?y:d,opacity:u<a.length-c?0:1})}),O(e,0),E(e,0),b(e,0)}function E(e,t){let u=a.slice(e+1-c,e),g=t===0?0:.5;o.delayedCall(g,()=>{u.forEach(w=>{o.to(w,{opacity:1,duration:t,ease:"power1.inOut",autoAlpha:1})})})}function O(e,t){a.slice(e+1).forEach((g,w)=>{o.timeline().to(g,{translateX:"+="+200*(1+w/5),duration:t,ease:"power1.inOut"}).to(g,{opacity:0,ease:!1,duration:t},0).to(g,{autoAlpha:0})})}function b(e,t){const u=a.slice(0,e+1);let g=m(a[e]),w=t===0?0:.5;o.delayedCall(w,()=>{u.forEach((v,C)=>{o.timeline().to(v,{translateX:"+="+g,duration:t,ease:"power1.inOut"}).to(v,{width:C===u.length-1?p:i,height:C===u.length-1?y:d,duration:t,scale:1,ease:"power1.inOut"},0)})})}function A(e){isNaN(e)||(o.to(r,{opacity:0,duration:.5,ease:!1}),o.delayedCall(1,()=>{const t=a[e].querySelector("[data-element='quote-body']");r.replaceChildren(...t.cloneNode(!0).children),o.timeline().fromTo(r,{xPercent:-80,translateX:0,opacity:0},{xPercent:0,duration:1,ease:"power1.out"}).to(r,{opacity:1,duration:1,ease:"power1.in"},0)}))}function T(){b(a.length-1,0),A(a.length-1)}T();function M(e){e&&e.ariaCurrent!=="true"&&o.timeline().to(e,{scale:.9,opacity:.8,ease:"power2.inOut",duration:.5})}function x(e){o.timeline().to(e,{scale:1,opacity:1,ease:"power2.inOut",duration:.5})}document.addEventListener("click",e=>{!e.target.closest("[data-element='quote']")||s||q(e.target.closest("[data-element='quote']"))}),a.forEach(e=>{e.addEventListener("mouseenter",t=>{M(t.target.closest("[data-element='quote']"))})}),a.forEach(e=>{e.addEventListener("mouseleave",t=>{x(t.target.closest("[data-element='quote']"))})})}function V(){o.registerPlugin(P);const n=document.querySelector("[animate='how-section']"),r=document.querySelector("[animate='container']"),l=n==null?void 0:n.querySelector("[animate='step-wrapper']"),a=Array.from(l==null?void 0:l.children),d=n.querySelector("[animate='image-wrapper']"),i=Array.from(d==null?void 0:d.children),p=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--900"),y=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--300"),c=n==null?void 0:n.querySelectorAll("[data-link]");c==null||c.forEach(m=>{m.addEventListener("click",()=>{n==null||n.querySelector(m.dataset.link).scrollIntoView({behavior:"smooth"})})});const f=0;function s(){var S;const m=o.getProperty((S=r==null?void 0:r.parentNode)==null?void 0:S.parentNode,"padding-top");let q=window.innerHeight-f-m*2;o.set(r,{minHeight:q})}o.timeline({paused:!0,scrollTrigger:{trigger:n,start:"top "+f,end:"bottom bottom",scrub:1}}).set(a.slice(1),{flex:"0 1 0%"}).set("[animate='step-1']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},0).to(i[0],{opacity:1},"<").to("[animate='step-1'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-1'] [animate='number']",{color:y,duration:1},"<").to("[animate='step-1']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(i[0],{opacity:0,duration:1},"<").to("[animate='step-2']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(i[1],{opacity:1},"<").to("[animate='step-2'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-2'] [animate='number']",{color:y,duration:1},"<").to("[animate='step-2']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(i[1],{opacity:0,duration:1},"<").to("[animate='step-3']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(i[2],{opacity:1},"<").to("[animate='step-3'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-3'] [animate='number']",{color:y,duration:1},"<").to("[animate='step-3']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(i[2],{opacity:0,duration:1},"<").to("[animate='step-4']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(i[3],{opacity:1},"<").to("[animate='step-4'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-4'] h3, [animate='step-4'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-4']",{opacity:1},"<2");function h(){o.set(i.slice(1),{opacity:0}),a.slice(1).forEach((m,q)=>{o.set(m,{flex:"0 1 0%"}),o.set(m.querySelector("[animate='heading']"),{display:"none",opacity:0}),o.set(m.querySelector("[animate='copy']"),{display:"none",opacity:0}),o.set(m.querySelector("[animate='number']"),{color:y})}),o.set(a[0],{flex:"1 0 10%"}),s()}h(),window.onresize=s}function k(n){B({container:"[data-element='quote-list']",items:2,gutter:12,center:!0,autoplay:!1,loop:!0,controls:!1,nav:!1});function l(){var f,s,h;let c=document.querySelectorAll(".tns-slide-active");(f=c[0])==null||f.classList.remove("center"),(s=c[1])==null||s.classList.add("center"),(h=c[2])==null||h.classList.remove("center")}l();const a=document.querySelectorAll("[data-element='quote']"),d={rootMargin:"100% 0% 100% 0%",threshold:[0,.9]};let i={};const p=(c,f)=>{c.forEach(s=>{s.isIntersecting?s.intersectionRatio>=.9?(s.target.classList.add("center"),clearTimeout(i[s.target.id])):i[s.target.id]=setTimeout(()=>{s.target.classList.remove("center")},150):s.target.classList.remove("center")})},y=new IntersectionObserver(p,d);a.forEach(c=>{y.observe(c)})}function L(){R(),N(),X(),I();let n=H();n&&k(),n||(D(),Q(),V())}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",L):L();
