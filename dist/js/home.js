import{m as R}from"./moveImgInText.js";import{g as a,S as L,o as H,a as N}from"./onAllPages.js";import{a as I}from"./animateCardToFull.js";import{a as z}from"./animateImageScale.js";import{c as W}from"./createSlider.js";function X(){let n=document.querySelector("[animate='left-half']"),r=document.querySelector("[animate='right-half']"),i=n==null?void 0:n.querySelector("lottie-player"),e=r==null?void 0:r.querySelector("video");if(!n||!r)return;let d=a.timeline({paused:!0}).to(r.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(n,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0),s=a.timeline({paused:!0}).to(n.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(r,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0);n.addEventListener("mouseenter",()=>{d.play(),e==null||e.pause()}),n.addEventListener("mouseleave",()=>{d.reverse(),e==null||e.play()}),r.addEventListener("mouseenter",()=>{s.play(),i&&(i==null||i.pause())}),r.addEventListener("mouseleave",()=>{s.reverse(),i&&(i==null||i.play())})}function k(n){const r=document.querySelector("[data-element='quote-container']"),i=document.querySelector("[data-element='quote-list']");let e=Array.from(document.querySelectorAll("[data-element='quote']"));const d="16.5rem",s="12rem",f="23.75rem",l="33rem",m=e.length,c=3;let y=!1;function w(){[...e].reverse().forEach(t=>{let o=t.cloneNode(!0);i.prepend(o),a.set(o,{opacity:0,autoAlpha:0})})}w(),w(),e=Array.from(document.querySelectorAll("[data-element='quote']"));function p(t){const o=t.getBoundingClientRect(),u=t.parentNode.getBoundingClientRect(),h=new DOMMatrix(window.getComputedStyle(t).transform).a,v=(t.offsetWidth-o.width)/2;return u.right-o.right-h-v}function q(t){y=!0,setTimeout(()=>{y=!1},1e3),e.forEach(u=>u.ariaCurrent=!1),t.ariaCurrent=!0,a.to(t,{scale:1.05,opacity:1,duration:.3,ease:"power2.inOut"});let o=Array.from(t.parentElement.children).indexOf(t);E(o,1),O(o,1),b(o,1),x(o),o<e.length-m&&a.delayedCall(1.75,()=>{o=o+e.length/c,S(o)})}function S(t){e.forEach((o,u)=>{a.set(o,{clearProps:"transform,visibility,scale",width:u===t?f:s,height:u===t?l:d,opacity:u<e.length-m?0:1})}),E(t,0),O(t,0),b(t,0)}function O(t,o){let u=e.slice(t+1-m,t),g=o===0?0:.5;a.delayedCall(g,()=>{u.forEach(h=>{a.to(h,{opacity:1,duration:o,ease:"power1.inOut",autoAlpha:1})})})}function E(t,o){e.slice(t+1).forEach((g,h)=>{a.timeline().to(g,{translateX:"+="+200*(1+h/5),duration:o,ease:"power1.inOut"}).to(g,{opacity:0,ease:!1,duration:o},0).to(g,{autoAlpha:0})})}function b(t,o){const u=e.slice(0,t+1);let g=p(e[t]),h=o===0?0:.5;a.delayedCall(h,()=>{u.forEach((v,C)=>{a.timeline().to(v,{translateX:"+="+g,duration:o,ease:"power1.inOut"}).to(v,{width:C===u.length-1?f:s,height:C===u.length-1?l:d,duration:o,scale:1,ease:"power1.inOut"},0)})})}function x(t){a.to(r,{opacity:0,duration:.5,ease:!1}),a.delayedCall(1,()=>{const o=e[t].querySelector("[data-element='quote-body']");r.replaceChildren(...o.cloneNode(!0).children),a.timeline().fromTo(r,{xPercent:-80,translateX:0,opacity:0},{xPercent:0,duration:1,ease:"power1.out"}).to(r,{opacity:1,duration:1,ease:"power1.in"},0)})}function M(){b(e.length-1,0)}M();function T(t){t.ariaCurrent!=="true"&&a.timeline().to(t,{scale:.9,opacity:.8,ease:"power2.inOut",duration:.5})}function P(t){a.timeline().to(t,{scale:1,opacity:1,ease:"power2.inOut",duration:.5})}document.addEventListener("click",t=>{!t.target.closest("[data-element='quote']")||y||q(t.target.closest("[data-element='quote']"))}),e.forEach(t=>{t.addEventListener("mouseenter",o=>{T(o.target.closest("[data-element='quote']"))})}),e.forEach(t=>{t.addEventListener("mouseleave",o=>{P(o.target.closest("[data-element='quote']"))})})}function B(){a.registerPlugin(L);const n=document.querySelector("[animate='how-section']"),r=document.querySelector("[animate='container']"),i=n==null?void 0:n.querySelector("[animate='step-wrapper']"),e=Array.from(i==null?void 0:i.children),d=n.querySelector("[animate='image-wrapper']"),s=Array.from(d==null?void 0:d.children),f=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--900"),l=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--300"),m=n==null?void 0:n.querySelectorAll("[data-link]");m==null||m.forEach(p=>{p.addEventListener("click",()=>{n==null||n.querySelector(p.dataset.link).scrollIntoView({behavior:"smooth"})})});const c=0;function y(){var S;const p=a.getProperty((S=r==null?void 0:r.parentNode)==null?void 0:S.parentNode,"padding-top");let q=window.innerHeight-c-p*2;a.set(r,{minHeight:q})}a.timeline({paused:!0,scrollTrigger:{trigger:n,start:"top "+c,end:"bottom bottom",scrub:1}}).set(e.slice(1),{flex:"0 1 0%"}).set("[animate='step-1']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},0).to(s[0],{opacity:1},"<").to("[animate='step-1'] [animate='number']",{color:f,duration:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-1'] [animate='number']",{color:l,duration:1},"<").to("[animate='step-1']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[0],{opacity:0,duration:1},"<").to("[animate='step-2']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[1],{opacity:1},"<").to("[animate='step-2'] [animate='number']",{color:f,duration:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-2'] [animate='number']",{color:l,duration:1},"<").to("[animate='step-2']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[1],{opacity:0,duration:1},"<").to("[animate='step-3']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[2],{opacity:1},"<").to("[animate='step-3'] [animate='number']",{color:f,duration:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-3'] [animate='number']",{color:l,duration:1},"<").to("[animate='step-3']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[2],{opacity:0,duration:1},"<").to("[animate='step-4']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[3],{opacity:1},"<").to("[animate='step-4'] [animate='number']",{color:f,duration:1},"<").to("[animate='step-4'] h3, [animate='step-4'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-4']",{opacity:1},"<2");function w(){a.set(s.slice(1),{opacity:0}),e.slice(1).forEach((p,q)=>{a.set(p,{flex:"0 1 0%"}),a.set(p.querySelector("[animate='heading']"),{display:"none",opacity:0}),a.set(p.querySelector("[animate='copy']"),{display:"none",opacity:0}),a.set(p.querySelector("[animate='number']"),{color:l})}),a.set(e[0],{flex:"1 0 10%"}),y()}w(),window.onresize=y}function D(n){a.registerPlugin(L);const r=document.querySelector("[animate='horizontal-scroll']");function i(e){e&&e.scroll({left:e.scrollWidth-e.clientWidth,behavior:"smooth"})}a.from(r,{ease:"power1.inOut",duration:1,scrollTrigger:{start:"top center",end:"bottom 80%",trigger:r,scrub:1,onUpdate:e=>{e.progress>.5&&i(r)},onLeave:function(e){e.scroll(e.start),e.disable(),e.animation.progress(1)}}})}function Q(n){W({container:"[data-element='quote-list']",items:2,gutter:12,center:!0,autoplay:!1,loop:!0,controls:!1,nav:!1});function i(){var m,c,y;let l=document.querySelectorAll(".tns-slide-active");(m=l[0])==null||m.classList.remove("center"),(c=l[1])==null||c.classList.add("center"),(y=l[2])==null||y.classList.remove("center")}i();const e=document.querySelectorAll("[data-element='quote']"),d={rootMargin:"100% 0% 100% 0%",threshold:[0,.9]},s=(l,m)=>{l.forEach(c=>{c.isIntersecting?(console.log(c),c.intersectionRatio>=.9?c.target.classList.add("center"):c.target.classList.remove("center")):c.target.classList.remove("center")})},f=new IntersectionObserver(s,d);e.forEach(l=>{f.observe(l)})}function A(){H(),R(),z(),I();let n=N();n&&(D(),Q()),n||(X(),k(),B())}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",A):A();
