import{m as R}from"./moveImgInText.js";import{g as o,S as b,o as H}from"./onAllPages.js";import{a as N,b as X}from"./animateScaleUp.js";import{a as B}from"./animateImageScale.js";function D(){let l=document.querySelector("[animate='left-half']"),r=document.querySelector("[animate='right-half']");if(!l||!r)return;let s=o.timeline({paused:!0}).to(r.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(l,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0),a=o.timeline({paused:!0}).to(l.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(r,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0);l.addEventListener("mouseenter",()=>s.play()),l.addEventListener("mouseleave",()=>s.reverse()),r.addEventListener("mouseenter",()=>a.play()),r.addEventListener("mouseleave",()=>a.reverse())}function Q(l){const r=document.querySelector("[data-element='quote-container']"),s=document.querySelector("[data-element='quote-list']");let a=Array.from(document.querySelectorAll("[data-element='quote']"));const g="16.5rem",S="12rem",i="23.75rem",m="33rem",f=a.length,p=3;let u=!1;function y(){[...a].reverse().forEach(e=>{let t=e.cloneNode(!0);s.prepend(t),o.set(t,{opacity:0,autoAlpha:0})})}y(),y(),a=Array.from(document.querySelectorAll("[data-element='quote']"));function q(e){const t=e.getBoundingClientRect(),n=e.parentNode.getBoundingClientRect(),d=new DOMMatrix(window.getComputedStyle(e).transform).a,E=(e.offsetWidth-t.width)/2;return n.right-t.right-d-E}function C(e){u=!0,setTimeout(()=>{u=!1},1e3),a.forEach(n=>n.ariaCurrent=!1),e.ariaCurrent=!0,o.to(e,{scale:1.05,opacity:1,duration:.3,ease:"power2.inOut"});let t=Array.from(e.parentElement.children).indexOf(e);A(t,1),h(t,1),v(t,1),M(t),t<a.length-f&&o.delayedCall(1.75,()=>{t=t+a.length/p,w(t)})}function w(e){a.forEach((t,n)=>{o.set(t,{clearProps:"transform,visibility,scale",width:n===e?i:S,height:n===e?m:g,opacity:n<a.length-f?0:1})}),A(e,0),h(e,0),v(e,0)}function h(e,t){let n=a.slice(e+1-f,e),c=t===0?0:.5;o.delayedCall(c,()=>{n.forEach(d=>{o.to(d,{opacity:1,duration:t,ease:"power1.inOut",autoAlpha:1})})})}function A(e,t){a.slice(e+1).forEach((c,d)=>{o.timeline().to(c,{translateX:"+="+200*(1+d/5),duration:t,ease:"power1.inOut"}).to(c,{opacity:0,ease:!1,duration:t},0).to(c,{autoAlpha:0})})}function v(e,t){const n=a.slice(0,e+1);let c=q(a[e]),d=t===0?0:.5;o.delayedCall(d,()=>{n.forEach((E,O)=>{o.timeline().to(E,{translateX:"+="+c,duration:t,ease:"power1.inOut"}).to(E,{width:O===n.length-1?i:S,height:O===n.length-1?m:g,duration:t,scale:1,ease:"power1.inOut"},0)})})}function M(e){o.to(r,{opacity:0,duration:.5,ease:!1}),o.delayedCall(1,()=>{const t=a[e].querySelector("[data-element='quote-body']");r.replaceChildren(...t.cloneNode(!0).children),o.timeline().fromTo(r,{xPercent:-80,translateX:0,opacity:0},{xPercent:0,duration:1,ease:"power1.out"}).to(r,{opacity:1,duration:1,ease:"power1.in"},0)})}function T(){v(a.length-1,0)}T();function P(e){e.ariaCurrent!=="true"&&o.timeline().to(e,{scale:.9,opacity:.8,ease:"power2.inOut",duration:.5})}function x(e){o.timeline().to(e,{scale:1,opacity:1,ease:"power2.inOut",duration:.5})}document.addEventListener("click",e=>{!e.target.closest("[data-element='quote']")||u||C(e.target.closest("[data-element='quote']"))}),a.forEach(e=>{e.addEventListener("mouseenter",t=>{P(t.target.closest("[data-element='quote']"))})}),a.forEach(e=>{e.addEventListener("mouseleave",t=>{x(t.target.closest("[data-element='quote']"))})})}function V(){o.registerPlugin(b);const l=document.querySelector("[data-element='step-wrapper']"),r=Array.from(l==null?void 0:l.children),s=document.querySelector("[data-element='image-wrapper']");Array.from(s==null?void 0:s.children),getComputedStyle(document.documentElement).getPropertyValue("--neutrals--900");const a=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--300");let g=document.querySelectorAll("[animate^='step-']");g.forEach((i,m)=>{const f=m*50,p=o.timeline({scrollTrigger:{trigger:i,start:`top ${-f}%`,end:`top ${f+25}%`,markers:!0}});p.fromTo(i,{flex:"1 1 0%"},{flex:"1 0 10%",ease:"power1.inOut",delay:.1});const u=i.querySelector("h3"),y=i.querySelector("p");u&&y&&p.to([u,y],{opacity:1,ease:"power1.inOut"},0).to([u,y],{display:"block"},0),g.forEach((q,C)=>{if(C!==m){p.to(q,{flex:"0 1 0%",ease:"power1.inOut"},0);const w=q.querySelector("h3"),h=q.querySelector("p");w&&h&&p.to([w,h],{opacity:0,ease:"power1.inOut"},0).to([w,h],{display:"none"},0)}})});function S(){o.set(r[0],{flex:"1 0 10%"}),r.slice(1).forEach((i,m)=>{o.set(i,{flex:"1 1 0%"}),o.set(i.querySelector("[animate='heading']"),{display:"none",opacity:0}),o.set(i.querySelector("[animate='copy']"),{display:"none",opacity:0}),o.set(i.querySelector("[animate='number']"),{color:a})})}S()}function L(){H(),R(),window.matchMedia("(min-width: 768px)").matches&&(D(),Q(),V()),N(),B(),X()}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",L):L();
