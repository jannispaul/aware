import{m as T}from"./moveImgInText.js";import{g as o,S as N,o as H}from"./onAllPages.js";import{a as B,b as R}from"./animateScaleUp.js";import{a as V}from"./animateImageScale.js";function X(){let i=document.querySelector("[animate='left-half']"),n=document.querySelector("[animate='right-half']"),r=i==null?void 0:i.querySelector("video"),a=n==null?void 0:n.querySelector("video");if(!i||!n)return;let u=o.timeline({paused:!0}).to(n.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(i,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0),s=o.timeline({paused:!0}).to(i.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(n,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0);i.addEventListener("mouseenter",()=>{u.play(),a==null||a.pause()}),i.addEventListener("mouseleave",()=>{u.reverse(),a==null||a.play()}),n.addEventListener("mouseenter",()=>{s.play(),r==null||r.pause()}),n.addEventListener("mouseleave",()=>{s.reverse(),r==null||r.play()})}function D(i){const n=document.querySelector("[data-element='quote-container']"),r=document.querySelector("[data-element='quote-list']");let a=Array.from(document.querySelectorAll("[data-element='quote']"));const u="16.5rem",s="12rem",m="23.75rem",p="33rem",f=a.length,g=3;let h=!1;function c(){[...a].reverse().forEach(e=>{let t=e.cloneNode(!0);r.prepend(t),o.set(t,{opacity:0,autoAlpha:0})})}c(),c(),a=Array.from(document.querySelectorAll("[data-element='quote']"));function w(e){const t=e.getBoundingClientRect(),l=e.parentNode.getBoundingClientRect(),y=new DOMMatrix(window.getComputedStyle(e).transform).a,S=(e.offsetWidth-t.width)/2;return l.right-t.right-y-S}function q(e){h=!0,setTimeout(()=>{h=!1},1e3),a.forEach(l=>l.ariaCurrent=!1),e.ariaCurrent=!0,o.to(e,{scale:1.05,opacity:1,duration:.3,ease:"power2.inOut"});let t=Array.from(e.parentElement.children).indexOf(e);v(t,1),O(t,1),C(t,1),x(t),t<a.length-f&&o.delayedCall(1.75,()=>{t=t+a.length/g,A(t)})}function A(e){a.forEach((t,l)=>{o.set(t,{clearProps:"transform,visibility,scale",width:l===e?m:s,height:l===e?p:u,opacity:l<a.length-f?0:1})}),v(e,0),O(e,0),C(e,0)}function O(e,t){let l=a.slice(e+1-f,e),d=t===0?0:.5;o.delayedCall(d,()=>{l.forEach(y=>{o.to(y,{opacity:1,duration:t,ease:"power1.inOut",autoAlpha:1})})})}function v(e,t){a.slice(e+1).forEach((d,y)=>{o.timeline().to(d,{translateX:"+="+200*(1+y/5),duration:t,ease:"power1.inOut"}).to(d,{opacity:0,ease:!1,duration:t},0).to(d,{autoAlpha:0})})}function C(e,t){const l=a.slice(0,e+1);let d=w(a[e]),y=t===0?0:.5;o.delayedCall(y,()=>{l.forEach((S,E)=>{o.timeline().to(S,{translateX:"+="+d,duration:t,ease:"power1.inOut"}).to(S,{width:E===l.length-1?m:s,height:E===l.length-1?p:u,duration:t,scale:1,ease:"power1.inOut"},0)})})}function x(e){o.to(n,{opacity:0,duration:.5,ease:!1}),o.delayedCall(1,()=>{const t=a[e].querySelector("[data-element='quote-body']");n.replaceChildren(...t.cloneNode(!0).children),o.timeline().fromTo(n,{xPercent:-80,translateX:0,opacity:0},{xPercent:0,duration:1,ease:"power1.out"}).to(n,{opacity:1,duration:1,ease:"power1.in"},0)})}function L(){C(a.length-1,0)}L();function P(e){e.ariaCurrent!=="true"&&o.timeline().to(e,{scale:.9,opacity:.8,ease:"power2.inOut",duration:.5})}function M(e){o.timeline().to(e,{scale:1,opacity:1,ease:"power2.inOut",duration:.5})}document.addEventListener("click",e=>{!e.target.closest("[data-element='quote']")||h||q(e.target.closest("[data-element='quote']"))}),a.forEach(e=>{e.addEventListener("mouseenter",t=>{P(t.target.closest("[data-element='quote']"))})}),a.forEach(e=>{e.addEventListener("mouseleave",t=>{M(t.target.closest("[data-element='quote']"))})})}function F(){o.registerPlugin(N);const i=document.querySelector("[animate='how-section']"),n=document.querySelector("[animate='container']"),r=i.querySelector("[animate='step-wrapper']"),a=Array.from(r==null?void 0:r.children),u=i.querySelector("[animate='image-wrapper']"),s=Array.from(u==null?void 0:u.children),m=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--900"),p=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--300"),f=0;function g(){var q;const c=o.getProperty((q=n==null?void 0:n.parentNode)==null?void 0:q.parentNode,"padding-top");let w=window.innerHeight-f-c*2;o.set(n,{minHeight:w})}o.timeline({paused:!0,scrollTrigger:{trigger:i,start:"top "+f,end:"+=3000 bottom",pin:i,scrub:1}}).set(a.slice(1),{flex:"0 1 0%"}).to("[animate='step-1']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"}).to(s[0],{opacity:1},"<").to("[animate='step-1'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-1'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-1']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[0],{opacity:0,duration:1},"<").to("[animate='step-2']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[1],{opacity:1},"<").to("[animate='step-2'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-2'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-2']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[1],{opacity:0,duration:1},"<").to("[animate='step-3']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[2],{opacity:1},"<").to("[animate='step-3'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-3'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-3']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[2],{opacity:0,duration:1},"<").to("[animate='step-4']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[3],{opacity:1},"<").to("[animate='step-4'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-4'] h3, [animate='step-4'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-4']",{opacity:1},"<2");function h(){o.set(s.slice(1),{opacity:0}),o.set(a[0],{flex:"1 0 10%"}),a.slice(1).forEach((c,w)=>{o.set(c,{flex:"1 1 0%"}),o.set(c.querySelector("[animate='heading']"),{display:"none",opacity:0}),o.set(c.querySelector("[animate='copy']"),{display:"none",opacity:0}),o.set(c.querySelector("[animate='number']"),{color:p})}),g()}h(),window.onresize=g}function Q(i){let n=document.querySelector("[data-element='home-header'] video"),r=document.querySelector("[data-element='video-progress']");if(!n||!r)return;function a(){var u=n.currentTime/n.duration*100;r.style.height=u+"%",requestAnimationFrame(a)}n.addEventListener("play",function(){requestAnimationFrame(a)})}function b(){H(),T(),Q(),window.matchMedia("(min-width: 768px)").matches&&(X(),D(),F()),B(),V(),R()}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",b):b();
