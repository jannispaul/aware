import{m as H}from"./moveImgInText.js";import{g as a,S as A,o as N,a as B}from"./onAllPages.js";import{a as R}from"./animateCardToFull.js";import{a as z}from"./animateImageScale.js";function V(){let i=document.querySelector("[animate='left-half']"),n=document.querySelector("[animate='right-half']"),r=i==null?void 0:i.querySelector("lottie-player"),e=n==null?void 0:n.querySelector("video");if(console.log(r),!i||!n)return;let c=a.timeline({paused:!0}).to(n.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(i,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0),s=a.timeline({paused:!0}).to(i.querySelector("h3"),{opacity:0,duration:.4,display:"none"}).to(n,{duration:.7,flex:"1.5 1 0%",ease:"power2.inOut"},0);i.addEventListener("mouseenter",()=>{c.play(),e==null||e.pause()}),i.addEventListener("mouseleave",()=>{c.reverse(),e==null||e.play()}),n.addEventListener("mouseenter",()=>{s.play(),r&&(r==null||r.pause())}),n.addEventListener("mouseleave",()=>{s.reverse(),r&&(r==null||r.play())})}function W(i){const n=document.querySelector("[data-element='quote-container']"),r=document.querySelector("[data-element='quote-list']");let e=Array.from(document.querySelectorAll("[data-element='quote']"));const c="16.5rem",s="12rem",m="23.75rem",p="33rem",f=e.length,h=3;let g=!1;function u(){[...e].reverse().forEach(t=>{let o=t.cloneNode(!0);r.prepend(o),a.set(o,{opacity:0,autoAlpha:0})})}u(),u(),e=Array.from(document.querySelectorAll("[data-element='quote']"));function w(t){const o=t.getBoundingClientRect(),l=t.parentNode.getBoundingClientRect(),y=new DOMMatrix(window.getComputedStyle(t).transform).a,S=(t.offsetWidth-o.width)/2;return l.right-o.right-y-S}function q(t){g=!0,setTimeout(()=>{g=!1},1e3),e.forEach(l=>l.ariaCurrent=!1),t.ariaCurrent=!0,a.to(t,{scale:1.05,opacity:1,duration:.3,ease:"power2.inOut"});let o=Array.from(t.parentElement.children).indexOf(t);E(o,1),C(o,1),b(o,1),T(o),o<e.length-f&&a.delayedCall(1.75,()=>{o=o+e.length/h,x(o)})}function x(t){e.forEach((o,l)=>{a.set(o,{clearProps:"transform,visibility,scale",width:l===t?m:s,height:l===t?p:c,opacity:l<e.length-f?0:1})}),E(t,0),C(t,0),b(t,0)}function C(t,o){let l=e.slice(t+1-f,t),d=o===0?0:.5;a.delayedCall(d,()=>{l.forEach(y=>{a.to(y,{opacity:1,duration:o,ease:"power1.inOut",autoAlpha:1})})})}function E(t,o){e.slice(t+1).forEach((d,y)=>{a.timeline().to(d,{translateX:"+="+200*(1+y/5),duration:o,ease:"power1.inOut"}).to(d,{opacity:0,ease:!1,duration:o},0).to(d,{autoAlpha:0})})}function b(t,o){const l=e.slice(0,t+1);let d=w(e[t]),y=o===0?0:.5;a.delayedCall(y,()=>{l.forEach((S,v)=>{a.timeline().to(S,{translateX:"+="+d,duration:o,ease:"power1.inOut"}).to(S,{width:v===l.length-1?m:s,height:v===l.length-1?p:c,duration:o,scale:1,ease:"power1.inOut"},0)})})}function T(t){a.to(n,{opacity:0,duration:.5,ease:!1}),a.delayedCall(1,()=>{const o=e[t].querySelector("[data-element='quote-body']");n.replaceChildren(...o.cloneNode(!0).children),a.timeline().fromTo(n,{xPercent:-80,translateX:0,opacity:0},{xPercent:0,duration:1,ease:"power1.out"}).to(n,{opacity:1,duration:1,ease:"power1.in"},0)})}function L(){b(e.length-1,0)}L();function P(t){t.ariaCurrent!=="true"&&a.timeline().to(t,{scale:.9,opacity:.8,ease:"power2.inOut",duration:.5})}function M(t){a.timeline().to(t,{scale:1,opacity:1,ease:"power2.inOut",duration:.5})}document.addEventListener("click",t=>{!t.target.closest("[data-element='quote']")||g||q(t.target.closest("[data-element='quote']"))}),e.forEach(t=>{t.addEventListener("mouseenter",o=>{P(o.target.closest("[data-element='quote']"))})}),e.forEach(t=>{t.addEventListener("mouseleave",o=>{M(o.target.closest("[data-element='quote']"))})})}function X(){a.registerPlugin(A);const i=document.querySelector("[animate='how-section']"),n=document.querySelector("[animate='container']"),r=i.querySelector("[animate='step-wrapper']"),e=Array.from(r==null?void 0:r.children),c=i.querySelector("[animate='image-wrapper']"),s=Array.from(c==null?void 0:c.children),m=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--900"),p=getComputedStyle(document.documentElement).getPropertyValue("--neutrals--300"),f=0;function h(){var q;const u=a.getProperty((q=n==null?void 0:n.parentNode)==null?void 0:q.parentNode,"padding-top");let w=window.innerHeight-f-u*2;a.set(n,{minHeight:w})}a.timeline({paused:!0,scrollTrigger:{trigger:i,start:"top "+f,end:"bottom bottom",scrub:1}}).set(e.slice(1),{flex:"0 1 0%"}).set("[animate='step-1']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},0).to(s[0],{opacity:1},"<").to("[animate='step-1'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-1'] h3, [animate='step-1'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-1'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-1']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[0],{opacity:0,duration:1},"<").to("[animate='step-2']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[1],{opacity:1},"<").to("[animate='step-2'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-2'] h3, [animate='step-2'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-2'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-2']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[1],{opacity:0,duration:1},"<").to("[animate='step-3']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[2],{opacity:1},"<").to("[animate='step-3'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-3'] h3, [animate='step-3'] p",{display:"none",opacity:0,duration:1},"<2").to("[animate='step-3'] [animate='number']",{color:p,duration:1},"<").to("[animate='step-3']",{flex:"0 1 0%",duration:1,delay:1,ease:"power1.inOut"},"<").to(s[2],{opacity:0,duration:1},"<").to("[animate='step-4']",{flex:"1 0 10%",duration:1,ease:"power1.inOut"},"<").to(s[3],{opacity:1},"<").to("[animate='step-4'] [animate='number']",{color:m,duration:1},"<").to("[animate='step-4'] h3, [animate='step-4'] p",{display:"block",opacity:1,duration:1,delay:1},"<").to("[animate='step-4']",{opacity:1},"<2");function g(){a.set(s.slice(1),{opacity:0}),e.slice(1).forEach((u,w)=>{a.set(u,{flex:"0 1 0%"}),a.set(u.querySelector("[animate='heading']"),{display:"none",opacity:0}),a.set(u.querySelector("[animate='copy']"),{display:"none",opacity:0}),a.set(u.querySelector("[animate='number']"),{color:p})}),a.set(e[0],{flex:"1 0 10%"}),console.log(e[0]),h()}g(),window.onresize=h}function D(i){let n=document.querySelector("[data-element='home-header'] video"),r=document.querySelector("[data-element='video-progress']");if(!n||!r)return;function e(){var c=n.currentTime/n.duration*100;r.style.height=c+"%",requestAnimationFrame(e)}n.addEventListener("play",function(){requestAnimationFrame(e)})}function F(i){a.registerPlugin(A);const n=document.querySelector("[animate='horizontal-scroll']");function r(e){e&&e.scroll({left:e.scrollWidth-e.clientWidth,behavior:"smooth"})}a.from(n,{ease:"power1.inOut",duration:1,scrollTrigger:{start:"top center",end:"bottom 80%",trigger:n,scrub:1,onUpdate:e=>{e.progress>.5&&r(n)},onLeave:function(e){e.scroll(e.start),e.disable(),e.animation.progress(1)}}})}function O(){N(),H(),D(),z(),R();let i=B();i&&F(),i||(V(),W(),X())}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",O):O();
