import{o as u}from"./onAllPages.js";function y(){const i=Array.from(document.querySelectorAll("[data-element='nest-target']")),c=Array.from(document.querySelectorAll("[data-identifier]")),f=[...new Set(c.map(e=>e.dataset.identifier))],d=document.querySelectorAll("[data-element='nest-source']");f.length>1?d.forEach(e=>{i[1].closest(`[data-identifier=${e.dataset.identifier}]`);let o=i.filter(a=>a.closest(`[data-identifier=${e.dataset.identifier}]`));l(e,o)}):l(d[0],Array.from(i));function l(e,o){const a=e.querySelectorAll("[data-category]");a.length,a.forEach(t=>{let n=t.dataset.category,r=o.filter(m=>m.dataset.category===n)[0];(r==null?void 0:r.dataset.element)==="nest-target"&&r.appendChild(t)}),o.forEach(t=>{let n=t.parentNode.parentNode.querySelector("[data-element='position-count']");if(!n)return;t.children.length>0?n.innerText=t.children.length:n.remove()})}d.forEach(e=>e.parentNode.remove())}function s(){u(),y()}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",s):s();
