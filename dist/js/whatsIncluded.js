import{o as u}from"./onAllPages.js";function y(){const d=Array.from(document.querySelectorAll("[data-element='nest-target']")),c=Array.from(document.querySelectorAll("[data-identifier]")),s=[...new Set(c.map(e=>e.dataset.identifier))],n=document.querySelectorAll("[data-element='nest-source']");s.length>1?n.forEach(e=>{d[1].closest(`[data-identifier=${e.dataset.identifier}]`);let t=d.filter(l=>l.closest(`[data-identifier=${e.dataset.identifier}]`));i(e,t)}):i(n[0],Array.from(d));function i(e,t){const l=e.querySelectorAll("[data-category]");l.length,l.forEach(o=>{let r=o.dataset.category,a=t.filter(m=>m.dataset.category===r)[0];(a==null?void 0:a.dataset.element)==="nest-target"&&a.appendChild(o)}),t.forEach(o=>{let r=o.parentNode.parentNode.querySelector("[data-element='position-count']");if(!r)return;o.children.length>0?r.innerText=o.children.length:r.remove()})}n.forEach(e=>e.parentNode.remove())}function p(d){const c=document.querySelectorAll('[fs-modal-element="open"]'),s=document.querySelectorAll('[data-element="marker-info"]'),n=document.querySelector('[data-element="modal-body"]');c.forEach(function(i,e){i.addEventListener("click",function(){const t=s[e];t&&(n.innerHTML="",n.appendChild(t.cloneNode(!0)))})})}function f(){u(),y(),p()}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",f):f();
