import{o as u,a as y}from"./onAllPages.js";function p(){const i=Array.from(document.querySelectorAll("[data-element='nest-target']")),l=Array.from(document.querySelectorAll("[data-identifier]")),a=[...new Set(l.map(n=>n.dataset.identifier))],o=document.querySelectorAll("[data-element='nest-source']");a.length>1?o.forEach(n=>{i[1].closest(`[data-identifier=${n.dataset.identifier}]`);let d=i.filter(t=>t.closest(`[data-identifier=${n.dataset.identifier}]`));c(n,d)}):c(o[0],Array.from(i));function c(n,d){n.querySelectorAll("[data-category]").forEach(r=>{let e=r.dataset.category,s=d.filter(f=>f.dataset.category===e)[0];(s==null?void 0:s.dataset.element)==="nest-target"&&s.appendChild(r)}),d.forEach(r=>{let e=r.parentNode.parentNode.querySelector("[data-element='list-count']");if(!e)return;r.children.length>0?e.innerText=r.children.length>1?r.children.length.toString()+" biomarkers":r.children.length.toString()+" biomarker":e.remove()})}o.forEach(n=>n.parentNode.remove())}function g(i){const l=document.querySelectorAll('[fs-modal-element="open-2"]');l.forEach(t=>{t.removeAttribute("fs-modal-element"),t.setAttribute("fs-modal-element","tooltip")});let a;function o(){window.fsAttributes=window.fsAttributes||[],window.fsAttributes.modal.destroy(),window.fsAttributes.modal.init()}function c(t){o();const r=t.getBoundingClientRect();let e=t.cloneNode(!0);e.style.display="block",e.style.transform="translateY(0)";const s=r.left+window.scrollX,f=r.top+window.scrollY+4;e.style.left=s+"px",e.style.top=f+"px",document.body.appendChild(e),a=e}function n(t){let e=t.target.parentNode.querySelector('[data-element="tooltip"]');e&&(e.style.display="block",c(e),e.style.display="none")}function d(t){a==null||a.remove()}l.forEach(t=>t.addEventListener("mouseenter",n)),l.forEach(t=>t.addEventListener("mouseleave",d))}function h(){const i=Array.from(document.querySelectorAll("[data-element='tab-count']"));i&&i.forEach(l=>{let a=l.getAttribute("data-category");if(!a)return;let o=document.querySelector(`[data-category="${a}"][data-identifier="addons"][data-element="nest-target"]`).childNodes;o&&(l.querySelector("[data-element='list-count']").innerText=o.length>1?o.length+" biomarkers":o.length+" biomarker")})}function b(i){const l=document.querySelectorAll('[fs-modal-element="open-2"]'),a=document.querySelectorAll('[data-element="marker-info"]'),o=document.querySelector('[data-element="modal-body"]');l.forEach(function(c,n){c.addEventListener("click",function(){const d=a[n];d&&(o.innerHTML="",o.appendChild(d.cloneNode(!0)))})})}function m(){u(),p(),h(),b(),!y()&&g()}document.readyState=="loading"?document.addEventListener("DOMContentLoaded",m):m();
